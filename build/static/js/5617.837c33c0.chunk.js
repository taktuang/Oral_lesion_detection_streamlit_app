"use strict";(globalThis.webpackChunk_stlite_desktop=globalThis.webpackChunk_stlite_desktop||[]).push([[5617],{75617:(e,t,o)=>{o.r(t),o.d(t,{default:()=>$});var n=o(5057),r=o(53812),i=o(82601),l=o(55927);let d;!function(e){e.ASCENDING="ascending",e.DESCENDING="descending"}(d||(d={}));var s=o(45490);const a=(0,s.Z)("div",{target:"e1xdbg9g8"})((({width:e,theme:t})=>({width:e,border:`1px solid ${t.colors.fadedText05}`,boxSizing:"content-box","& .table-top-right":{overflow:"hidden !important",paddingRight:"6px"},"& .table-bottom-left":{overflow:"hidden !important",paddingBottom:"6px"},"& .table-bottom-right":{overflow:"overlay !important"},"& .table-bottom-right:focus-visible":{outline:"none"},"& .table-bottom-right:focus":{outline:"none"}})),""),c=(0,s.Z)("div",{target:"e1xdbg9g7"})((({theme:e})=>({padding:`${e.spacing.twoXS} ${e.spacing.xs}`,borderBottom:`1px solid ${e.colors.fadedText05}`,borderRight:`1px solid ${e.colors.fadedText05}`,fontSize:e.fontSizes.md,fontFamily:e.genericFonts.bodyFont,lineHeight:e.lineHeights.table,display:"flex",alignItems:"center",justifyContent:"flex-start"})),""),h=e=>({color:e.colors.fadedText60,borderBottom:`1px solid ${e.colors.fadedText05}`,borderRight:`1px solid ${e.colors.fadedText05}`,zIndex:1}),m=e=>({overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis",lineHeight:e.lineHeights.table}),u=(0,s.Z)(c,{target:"e1xdbg9g6"})((({theme:e})=>h(e)),""),g=(0,s.Z)(c,{target:"e1xdbg9g5"})((({theme:e})=>({userSelect:"none",...h(e),...m(e)})),""),f=(0,s.Z)(c,{target:"e1xdbg9g4"})((({theme:e})=>({userSelect:"none",...h(e),...m(e)})),""),x=(0,s.Z)(c,{target:"e1xdbg9g3"})((({theme:e})=>m(e)),""),w=(0,s.Z)("div",{target:"e1xdbg9g2"})((({verticalLocator:e,horizontalLocator:t,width:o,height:n})=>({position:"absolute",[e]:"0px",[t]:"0px",width:o,height:n})),""),p=(0,s.Z)("div",{target:"e1xdbg9g1"})((({theme:e})=>({fontFamily:e.genericFonts.codeFont,color:e.colors.fadedText60,fontStyle:"italic",fontSize:e.fontSizes.md,textAlign:"center"})),""),b=(0,s.Z)("span",{target:"e1xdbg9g0"})((({theme:e})=>({color:e.colors.fadedText05,verticalAlign:"top"})),"");var C=o(76850),y=o(95870);const v=!("undefined"===typeof window||!window.document||!window.document.createElement);let S;function N(e){if((!S&&0!==S||e)&&v){const e=document.createElement("div");e.style.position="absolute",e.style.top="-9999px",e.style.width="50px",e.style.height="50px",e.style.overflow="scroll",document.body.appendChild(e),S=e.offsetWidth-e.clientWidth,document.body.removeChild(e)}return S}var I=o(3888);const D=2*I.CH.smPx,E=(e,t,o,n)=>{const{headerRows:r,headerCols:i,dataRows:d,cols:s,rows:a}=(0,l.kG)(o),c=D*r,h=t-2-N(),m=function(e,t,o,n,r,i){const l=25,d=e>2?200:400,s=({index:e})=>{const o=e,r=8*10/10,d=24,s=100;let a=l;for(let l=0;l<Math.min(t,s);l++){let e=-1;e=l<n?l:t>s?Math.floor(Math.random()*t):l;const{contents:c}=i(o,e),h=(c?c.length:0)*r+d;h>a&&(a=h)}return a};let a=[];const c=Array.from(Array(e),((e,t)=>s({index:t}))),h=c.reduce(((e,t)=>e+t),0),m=r-h,u=e=>e.filter((e=>e>d));if(m<0)a=c.map((e=>e>d?d:e));else{const e=u(c),t=m/e.length;a=c.map(((o,n)=>n in e.keys()?o+t:o))}let g=a.reduce(((e,t)=>e+t),0);if(g>r*(2/3)&&g<r){const t=(r-g)/e;a=a.map((e=>e+t)),g=a.reduce(((e,t)=>e+t),0)}const f=Math.min(g,r),x=({index:e})=>a[e],w=a.slice(0,o).reduce(((e,t)=>e+t));return{elementWidth:f,columnWidth:x,headerWidth:w}}(s,a,i,r,h,n);let{elementWidth:u,columnWidth:g,headerWidth:f}=m;if(0===d&&u<60){u=60,f=60;let e=0;for(let t=0;t<s;t++)e+=g({index:t});e<60&&(g=()=>60/s)}const x=a*D,w=(e||300)-2;e=Math.min(x,w);return u+=x>w?N():0,{rowHeight:D,headerHeight:c,border:2,columnWidth:g,headerWidth:f,elementWidth:u,height:e}},R={corner:u,"col-header":g,"row-header":f,data:x};var G=o(31478),k=o(95421),A=n.forwardRef((function(e,t){return n.createElement(k.D,(0,G.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 8 8"},e,{ref:t}),n.createElement("path",{d:"M4 1L0 5l1.5 1.5L4 4l2.5 2.5L8 5 4 1z"}))}));A.displayName="ChevronTop";var T=n.forwardRef((function(e,t){return n.createElement(k.D,(0,G.Z)({iconAttrs:{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},iconVerticalAlign:"middle",iconViewBox:"0 0 8 8"},e,{ref:t}),n.createElement("path",{d:"M1.5 1L0 2.5l4 4 4-4L6.5 1 4 3.5 1.5 1z"}))}));T.displayName="ChevronBottom";var W=o(87509),z=o(96266);function Z({CellType:e,columnIndex:t,contents:o,rowIndex:n,sortedByUser:r,style:i,columnSortDirection:l,headerClickedCallback:s}){let a,c,h,m=o;const u=l===d.DESCENDING;null!=s&&0===n&&(a=()=>s(t),c="button",h=0,m=null==l?`Sort by column "${o}"`:`Sorted by column "${o}" (${u?"descending":"ascending"})`);const g=0===n?function(e){switch(e){case d.ASCENDING:return(0,z.jsx)(b,{"data-testid":"sortIcon",children:(0,z.jsx)(W.ZP,{content:A,size:"xs",margin:"0 0 0 twoXS"})});case d.DESCENDING:return(0,z.jsx)(b,{"data-testid":"sortIcon",children:(0,z.jsx)(W.ZP,{content:T,size:"xs",margin:"0 0 0 twoXS"})});default:return null}}(l):void 0;return(0,z.jsxs)(e,{style:i,onClick:a,role:c,tabIndex:h,title:m,"data-testid":e.displayName,"data-test-sort-direction":l,children:[o,r?g:""]})}const $=(0,i.Z)((function({element:e,height:t,width:o}){const i=n.useRef(null),[s,c]=(0,n.useState)(!1),[h,m]=(0,n.useState)(0),[u,g]=(0,n.useState)(d.ASCENDING),[,f]=(0,l.oo)(e.get("data")),{headerRows:x,headerCols:b,dataRows:v,cols:S,rows:N}=(0,l.kG)(e),I=e=>{let t=d.ASCENDING;h===e&&(t=u===d.ASCENDING?d.DESCENDING:d.ASCENDING),m(e),g(t),c(!0)},D=(t=>{const{headerCols:o,dataRows:n}=(0,l.kG)(e),r=u!==d.DESCENDING;if(h<o||h-o>=t){const e=new Array(n);for(let t=0;t<n;t+=1)e[t]=r?t:n-(t+1);return e}return(0,l.X_)(e,h-o,r)})(f),G=function({element:e,headerRows:t,sortedDataRowIndices:o}){return(n,r)=>{if(null!=o&&r>=t){const e=r-t;e>=0&&e<o.length?(r=o[e],r+=t):(0,y.KE)(`Bad sortedDataRowIndices (rowIndex=${r}, headerRows=${t}, sortedDataRowIndices.length=${o.length}`)}const{contents:i,styles:d,type:s}=(0,l.me)(e,n,r);return{Component:R[s],styles:d,contents:(0,C.H7)(i)}}}({element:e,headerRows:x,sortedDataRowIndices:D}),k=function(e){return({columnIndex:t,key:o,rowIndex:n,style:r})=>{const{Component:i,styles:l,contents:d}=e(t,n),a=0===n?I:void 0,c=t===h?u:void 0,m={...r,...l,borderBottom:n===v?"none":void 0,borderRight:t===S-b?"none":void 0};return(0,z.jsx)(Z,{CellType:i,columnIndex:t,rowIndex:n,style:m,contents:d,sortedByUser:s,columnSortDirection:c,headerClickedCallback:a},o)}}(G),{rowHeight:A,headerHeight:T,border:W,height:$,elementWidth:j,columnWidth:B,headerWidth:L}=E(t,o,e,G);return setTimeout((()=>{null!=i.current&&i.current.recomputeGridSize()}),0),(0,n.useEffect)((()=>{h-b>=f&&(m(0),g(d.ASCENDING),c(!1))}),[h,b,f]),(0,z.jsxs)(a,{width:j,className:"stDataFrame",children:[(0,z.jsx)(r.yR,{cellRenderer:k,fixedColumnCount:b,fixedRowCount:x,columnWidth:B,columnCount:S,enableFixedColumnScroll:!1,enableFixedRowScroll:!1,height:$,rowHeight:A,rowCount:N,width:j,classNameBottomLeftGrid:"table-bottom-left",classNameBottomRightGrid:"table-bottom-right",classNameTopRightGrid:"table-top-right",ref:i}),(0,z.jsx)(w,{verticalLocator:"top",horizontalLocator:"right",width:W,height:T}),(0,z.jsx)(w,{verticalLocator:"bottom",horizontalLocator:"left",width:L,height:W}),0===v?(0,z.jsx)(p,{children:"empty"}):null]})}))}}]);